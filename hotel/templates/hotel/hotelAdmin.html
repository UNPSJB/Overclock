{% extends 'base/base_administrador.html'%}
{% load static %}

{% block headerContenido %}
{% endblock headerContenido %}

{% block content %}

<div class="formularioHotel" id="vistaHoteles">
    <center>
        <h1 class="my-4">LISTADO DE HOTELES</h1>
    </center>

    <table id="example1" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <button type="button" class="btn btn-success ml-4 float-right btn-sm" data-toggle="modal"
                    data-target="#crearHotel" onclick="abrir_modal('{% url 'hotel:modalCrearHotel' %}','#crearHotel');">
                    <i class="fas fa-plus-circle"></i>AÃ‘ADIR
                    <th>Nombre</th>
                    <th>Localidad</th>
                    <th>Direccion</th>
                    <th>Email</th>
                    <th>Telefono</th>
                    <th>Encargado</th>
                    <th>Categoria</th>
                    <th>
                        <Center>Modificar</Center>
                    </th>
            </tr>
        </thead>
        <tbody>
            {% for hotel in colHoteles %}

            <tr class="pepito">
                <td><a href="#">{{hotel.nombre}}</a></td>
                <td><a href="#">{{hotel.localidad}}</a></td>
                <td><a href="#">{{hotel.direccion}}</a></td>
                <td><a href="#">{{hotel.email}}</a></td>
                <td><a href="#">{{hotel.telefono}}</a></td>
                <td><a href="#">{{hotel.encargado.persona.nombre}} {{hotel.encargado.persona.apellido}}</a></td>
                <td><a href="#">{{hotel.categoria.nombre}}</a></td>
                <td>
                    <center>
                        <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#modificarHotel"
                            onclick="abrir_modal('{% url 'hotel:modalModificarHotel' hotel %}','#modificarHotel');">
                            <i class="fas fa-edit"></i>
                        </button>
                    </center>
                </td>

            </tr>
            {% if not hotel.es_comercializable %}
            <style>
                .pepito tr.even,
                .table-striped tbody tr:nth-of-type(2n+1) {
                    background-color: red;
                }
            </style>
            {% else %}
            <style>
                .pepito tr.even,
                .table-striped tbody tr:nth-of-type(2n+1) {
                    background-color: green;
                }
            </style>
            {% endif %}

            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th>Nombre</th>
                <th>Localidad</th>
                <th>Direccion</th>
                <th>Email</th>
                <th>Telefono</th>
                <th>Encargado</th>
                <th>Categoria</th>
                <th>
                    <Center>Modificar</Center>
                </th>
            </tr>
        </tfoot>
    </table>

    <!--Modal crear Hotel en otro html-->

    <div class="modal fade-scale" id="crearHotel" tabindex="-1" aria-labelledby="exampleModalLabel">
    </div>

    <!-- Modal modificar Hotel en otro html-->
    <div class="modal fade-scale" id="modificarHotel" tabindex="-1" aria-labelledby="exampleModalLabel">
    </div>
</div>

{% endblock content %}

{% block extrajs %}

<script type="text/javascript">
    //SCRIPT DE DATATABLE
    const $ = jQuery.noConflict();
    $(document).ready(function () {
        $('#example1').DataTable();
    });</script>


{% endblock extrajs%}