{% extends 'base/base_administrador.html'%}
{% load static %}


{% block headerContenido %}

{% endblock headerContenido %}


{% block content %}



<div class="switch-toggle switch-3 switch-candy sm row justify-content-center">



    <input id="ciudad" name="state-d" radio type="radio" checked="" value="ciudad" />
    <label for="ciudad" onclick="">
        <h1>Localidades</h1>
    </label>

    <input id="provincia" name="state-d" type="radio" checked="" value="provincia" />
    <label for="provincia" onclick="">
        <h1>Provincias</h1>
    </label>

    <input id="pais" name="state-d" type="radio" checked="" value="pais" />
    <label for="pais" onclick="">
        <h1>Paises</h1>
    </label>



    <style>
        .switch-toggle {
            margin-top: 1vh;

        }

        .switch-toggle input {
            position: absolute;
            opacity: 0;
            border-radius: 5px;
        }

        .switch-toggle input+label {
            padding: 7px;
            float: center;
            cursor: pointer;
        }

        .switch-toggle input:checked+label {
            background: #28a745;
            border-radius: 5px;
        }
    </style>


</div>



<div class="formularioRegion" id="vistaLocalidades">




    <table id="example1" class="table table-striped table-bordered" style="width:100%">

        <thead>

            <tr>

                <button type="button" class="btn btn-success ml-4 float-right btn-sm" data-toggle="modal"
                    data-target="#crearLocalidad"
                    onclick="abrir_modal('{% url 'core:modalCrearLocalidad' %}','#crearLocalidad');">
                    <img src="/static/icons/plus-circle.svg"
                        class="img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}"
                        alt="">
                    AÑADIR</button>
                <th>Pais</th>
                <th>Provincia</th>
                <th>Localidad</th>

                <th>

                    <Center>Modificar</Center>
                </th>
            </tr>
        </thead>
        <tbody>


            {% for ciudad in localidades %}


            <tr>
                <td>{{ciudad.provincia.pais.nombre}}</td>
                <td>{{ciudad.provincia.nombre}}</td>
                <td>{{ciudad.nombre}}</td>
                <td>
                    <center>
                        <button type="button" class="btn btn-warning" data-toggle="modal"
                            data-target="#modificarLocalidad"
                            onclick="abrir_modal('{% url 'core:modalModificarLocalidad' ciudad %}','#modificarLocalidad');">
                            <img src="/static/icons/pencil-square.svg"
                                class="img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}"
                                alt="">
                        </button>
                    </center>

                </td>
            </tr>
            {% endfor %}

        </tbody>
        <tfoot>
            <tr>
                <th>Pais</th>
                <th>Provincia</th>
                <th>Localidad</th>
                <th>
                    <Center>Modificar</Center>
                </th>

            </tr>
        </tfoot>
    </table>

    <!--Modal crear localidad en otro html-->

    <div class="modal fade-scale" id="crearLocalidad" tabindex="-1" aria-labelledby="exampleModalLabel">
    </div>

    <!-- Modal modificar localidad en otro html-->
    <div class="modal fade-scale" id="modificarLocalidad" tabindex="-1" aria-labelledby="exampleModalLabel">
    </div>

</div>

<div class="formularioRegion" id="vistaProvincia">
    <table id="example2" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <button type="button" class="btn btn-success ml-4 float-right btn-sm" data-toggle="modal"
                    data-target="#crearProvincia"
                    onclick="abrir_modal('{% url 'core:modalCrearProvincia' %}','#crearProvincia');">
                    <img src="/static/icons/plus-circle.svg"
                        class="img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}"
                        alt="">
                    AÑADIR</button>
                <th>Pais</th>
                <th>Provincia</th>
                <th>
                    <Center>Modificar</Center>
                </th>
            </tr>
        </thead>
        <tbody>


            {% for provincia in provincias %}
            <tr>
                <td>{{provincia.pais.nombre}}</td>
                <td>{{provincia.nombre}}</td>
                <td>
                    <center>
                        <button type="button" class="btn btn-warning" data-toggle="modal"
                            data-target="#modificarProvincia"
                            onclick="abrir_modal('{% url 'core:modalModificarProvincia' provincia %}','#modificarProvincia');">
                            <img src="/static/icons/pencil-square.svg"
                                class="img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}"
                                alt="">
                        </button>
                    </center>

                </td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th>Pais</th>
                <th>Provincia</th>
                <th>
                    <Center>Modificar</Center>
                </th>

            </tr>
        </tfoot>
    </table>

    <!--Modal crear Provincia en otro html-->
    <div class="modal fade-scale" id="crearProvincia" tabindex="-1" aria-labelledby="exampleModalLabel">
    </div>
    <!--Modal modificar Provincia en otro html-->
    <div class="modal fade-scale" id="modificarProvincia" tabindex="-1" aria-labelledby="exampleModalLabel">
    </div>
</div>




<div class="formularioRegion" id="vistaPais">


    <table id="example3" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <button type="button" class="btn btn-success ml-4 float-right btn-sm" data-toggle="modal"
                    data-target="#crearPais" onclick="abrir_modal('{% url 'core:modalCrearPais' %}','#crearPais');">
                    <img src="/static/icons/plus-circle.svg"
                        class="img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}"
                        alt="">
                    AÑADIR</button>
                <th>Pais</th>


                <th>

                    <Center>Modificar</Center>
                </th>
            </tr>
        </thead>
        <tbody>


            {% for pais in paises %}


            <tr>
                <td>{{pais.nombre}}</td>

                <td>
                    <center>
                        <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#modificarPais"
                            onclick="abrir_modal('{% url 'core:modalModificarPais' pais %}','#modificarPais');">
                            <img src="/static/icons/pencil-square.svg"
                                class="img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}"
                                alt="">
                        </button>
                    </center>

                </td>
            </tr>
            {% endfor %}

        </tbody>
        <tfoot>
            <tr>
                <th>Pais</th>

                <th>
                    <Center>Modificar</Center>
                </th>

            </tr>
        </tfoot>
    </table>


    <!--Modal crear Pais en otro html-->
    <div class="modal fade-scale" id="crearPais" tabindex="-1" aria-labelledby="exampleModalLabel">
    </div>


    <!--Modal modificar Pais en otro html-->
    <div class="modal fade-scale" id="modificarPais" tabindex="-1" aria-labelledby="exampleModalLabel">
    </div>

</div>



{% endblock content %}

{% block extrajs %}

<script type="text/javascript">
    //SCRIPT DE DATATABLE
    const $ = jQuery.noConflict();
    $(document).ready(function () {
        $('#example1').DataTable();
        $('#example2').DataTable();
        $('#example3').DataTable();
    });</script>

<!--<script>
    //ESTO ES PARA CAPTURAR LOS PAQUETES
    $(function () {
        var token = jQuery("[name=csrfmiddlewaretoken]").val();
        $("form").submit(function (e) {
            e.preventDefault();
            var datosFormulario = $('form').serializeArray();
            alert('DATOS CAPTURADOS' + datosFormulario[1].value);
        });
    });
</script>-->


<script>
    $("#vistaPais").show();
    $("#vistaLocalidades").hide();
    $("#vistaProvincia").hide();
    $(function () {
        $('input').click(function () {
            var state = $(this).val();
            console.log(state)
            switch (state) {
                case "provincia":
                    $("#vistaPais").hide();
                    $("#vistaLocalidades").hide();
                    $("#vistaProvincia").show();
                    break;
                case "pais":
                    $("#vistaPais").show();
                    $("#vistaLocalidades").hide();
                    $("#vistaProvincia").hide();
                    break;
                case "ciudad":
                    $("#vistaPais").hide();
                    $("#vistaLocalidades").show();
                    $("#vistaProvincia").hide();
                    break;
            }
        });
    });
</script>
<script type="text/javascript">
    function abrir_modal(url, id) { /// al llamar a la funcion para apertura de modales le damos url del modal y id del mismo
        $(id).load(url, function () {
            $(this).modal('show');
        });
    }
</script>



{% endblock %}